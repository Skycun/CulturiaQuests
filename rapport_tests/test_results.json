{
  "meta": {
    "date": "2026-02-02",
    "project": "CulturiaQuests",
    "feature": "Friends System",
    "test_type": "E2E",
    "framework": "Playwright",
    "browser": "Firefox 146.0.1",
    "duration_seconds": 60
  },
  "summary": {
    "total_tests": 12,
    "passed": 0,
    "failed": 12,
    "skipped": 0,
    "success_rate": 0.0
  },
  "environment": {
    "os": "Linux (WSL2)",
    "kernel": "6.6.87.2-microsoft-standard-WSL2",
    "base_url": "http://localhost:3000",
    "backend_url": "http://localhost:1337",
    "docker_services": {
      "frontend": {
        "status": "up",
        "port": 3000
      },
      "backend": {
        "status": "up",
        "port": 1337
      },
      "database": {
        "status": "healthy",
        "port": 5432
      }
    }
  },
  "issues": [
    {
      "id": 1,
      "priority": "HIGH",
      "severity": "BLOCKER",
      "title": "Incorrect input selector type",
      "description": "Tests use 'input[type=\"email\"]' but the actual field is 'type=\"text\"'",
      "impact": {
        "tests_affected": 11,
        "percentage": 91.7
      },
      "files_affected": [
        "frontend/tests/e2e/friends.spec.ts"
      ],
      "lines_affected": [37, 157, 186],
      "root_cause": "Mismatch between expected HTML5 input type and actual implementation",
      "solution": {
        "type": "code_change",
        "complexity": "LOW",
        "estimated_time_minutes": 5,
        "description": "Change selector from 'input[type=\"email\"]' to 'input[type=\"text\"]'"
      }
    },
    {
      "id": 2,
      "priority": "MEDIUM",
      "severity": "MINOR",
      "title": "Authentication behavior mismatch",
      "description": "Test expects to see error message on /tests/friends but page redirects to login",
      "impact": {
        "tests_affected": 1,
        "percentage": 8.3
      },
      "files_affected": [
        "frontend/tests/e2e/friends.spec.ts"
      ],
      "lines_affected": [21],
      "root_cause": "Automatic redirect or incomplete text match for unauthenticated users",
      "solution": {
        "type": "code_change",
        "complexity": "LOW",
        "estimated_time_minutes": 5,
        "description": "Use partial text match or handle redirect in test"
      }
    }
  ],
  "failed_tests": [
    {
      "id": 1,
      "name": "should show login prompt when not authenticated",
      "category": "Friends Page - Unauthenticated",
      "file": "tests/e2e/friends.spec.ts",
      "line": 17,
      "error_type": "ElementNotFound",
      "error_message": "expect(locator).toBeVisible() failed",
      "timeout_ms": 5000,
      "issue_id": 2
    },
    {
      "id": 2,
      "name": "should navigate to login page",
      "category": "Friends Page - Unauthenticated",
      "file": "tests/e2e/friends.spec.ts",
      "line": 25,
      "error_type": "Timeout",
      "error_message": "page.fill: Test timeout of 30000ms exceeded",
      "timeout_ms": 30000,
      "issue_id": 1
    },
    {
      "id": 3,
      "name": "should display friends page after login",
      "category": "Friends Page - Authenticated",
      "file": "tests/e2e/friends.spec.ts",
      "line": 45,
      "error_type": "Timeout",
      "error_message": "page.fill: Test timeout of 30000ms exceeded (beforeEach)",
      "timeout_ms": 30000,
      "issue_id": 1
    },
    {
      "id": 4,
      "name": "should display current account information",
      "category": "Friends Page - Authenticated",
      "file": "tests/e2e/friends.spec.ts",
      "line": 55,
      "error_type": "Timeout",
      "error_message": "page.fill: Test timeout of 30000ms exceeded (beforeEach)",
      "timeout_ms": 30000,
      "issue_id": 1
    },
    {
      "id": 5,
      "name": "should display settings section",
      "category": "Friends Page - Authenticated",
      "file": "tests/e2e/friends.spec.ts",
      "line": 69,
      "error_type": "Timeout",
      "error_message": "page.fill: Test timeout of 30000ms exceeded (beforeEach)",
      "timeout_ms": 30000,
      "issue_id": 1
    },
    {
      "id": 6,
      "name": "should toggle friend requests setting",
      "category": "Friends Page - Authenticated",
      "file": "tests/e2e/friends.spec.ts",
      "line": 81,
      "error_type": "Timeout",
      "error_message": "page.fill: Test timeout of 30000ms exceeded (beforeEach)",
      "timeout_ms": 30000,
      "issue_id": 1
    },
    {
      "id": 7,
      "name": "should display search section",
      "category": "Friends Page - Authenticated",
      "file": "tests/e2e/friends.spec.ts",
      "line": 105,
      "error_type": "Timeout",
      "error_message": "page.fill: Test timeout of 30000ms exceeded (beforeEach)",
      "timeout_ms": 30000,
      "issue_id": 1
    },
    {
      "id": 8,
      "name": "should search for non-existent user",
      "category": "Friends Page - Authenticated",
      "file": "tests/e2e/friends.spec.ts",
      "line": 114,
      "error_type": "Timeout",
      "error_message": "page.fill: Test timeout of 30000ms exceeded (beforeEach)",
      "timeout_ms": 30000,
      "issue_id": 1
    },
    {
      "id": 9,
      "name": "should display friends lists sections",
      "category": "Friends Page - Authenticated",
      "file": "tests/e2e/friends.spec.ts",
      "line": 128,
      "error_type": "Timeout",
      "error_message": "page.fill: Test timeout of 30000ms exceeded (beforeEach)",
      "timeout_ms": 30000,
      "issue_id": 1
    },
    {
      "id": 10,
      "name": "should display debug section",
      "category": "Friends Page - Authenticated",
      "file": "tests/e2e/friends.spec.ts",
      "line": 137,
      "error_type": "Timeout",
      "error_message": "page.fill: Test timeout of 30000ms exceeded (beforeEach)",
      "timeout_ms": 30000,
      "issue_id": 1
    },
    {
      "id": 11,
      "name": "search button should be disabled with empty input",
      "category": "Friends - Search and Request Flow",
      "file": "tests/e2e/friends.spec.ts",
      "line": 154,
      "error_type": "Timeout",
      "error_message": "page.fill: Test timeout of 30000ms exceeded",
      "timeout_ms": 30000,
      "issue_id": 1
    },
    {
      "id": 12,
      "name": "should display error messages gracefully",
      "category": "Friends - Error Handling",
      "file": "tests/e2e/friends.spec.ts",
      "line": 183,
      "error_type": "Timeout",
      "error_message": "page.fill: Test timeout of 30000ms exceeded",
      "timeout_ms": 30000,
      "issue_id": 1
    }
  ],
  "recommendations": [
    {
      "priority": 1,
      "phase": "Immediate Fix",
      "action": "Update test selectors",
      "file": "frontend/tests/e2e/friends.spec.ts",
      "changes": [
        {
          "line": 37,
          "search": "input[type=\"email\"]",
          "replace": "input[type=\"text\"]"
        },
        {
          "line": 157,
          "search": "input[type=\"email\"]",
          "replace": "input[type=\"text\"]"
        },
        {
          "line": 186,
          "search": "input[type=\"email\"]",
          "replace": "input[type=\"text\"]"
        },
        {
          "line": 21,
          "search": "text=You must be logged in",
          "replace": "text=/You must be logged in/"
        }
      ],
      "estimated_time_minutes": 10
    },
    {
      "priority": 2,
      "phase": "Code Improvement",
      "action": "Standardize input type in login page",
      "file": "frontend/app/pages/tests/login.vue",
      "changes": [
        {
          "line": 59,
          "search": "type=\"text\"",
          "replace": "type=\"email\"",
          "reason": "HTML5 validation and better test robustness"
        }
      ],
      "estimated_time_minutes": 5
    },
    {
      "priority": 3,
      "phase": "Validation",
      "action": "Re-run tests after fixes",
      "command": "cd frontend && npm test",
      "expected_result": "12/12 tests passed",
      "estimated_time_minutes": 2
    }
  ],
  "test_credentials": {
    "note": "These users must exist in the database",
    "users": [
      {
        "email": "test@culturia.com",
        "username": "testuser",
        "password": "TestPassword123!"
      },
      {
        "email": "test2@culturia.com",
        "username": "testuser2",
        "password": "TestPassword123!"
      }
    ]
  }
}
